<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AI Disruptors Fund Dashboard</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
      margin: 0;
      padding: 0;
    }
    header {
      background-color: #333;
      color: #fff;
      padding: 20px;
      text-align: center;
    }
    main {
      max-width: 1200px;
      margin: 20px auto;
      padding: 0 20px;
    }
    section {
      background: #fff;
      padding: 20px;
      margin-bottom: 30px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    h2 {
      margin-top: 0;
    }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    th, td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: right;
    }
    th {
      background-color: #333;
      color: white;
    }
    th:first-child, td:first-child {
      text-align: left;
    }
    canvas {
      margin-top: 20px;
    }
  </style>
</head>
<body>
  <header>
    <h1>AI Disruptors Fund Dashboard</h1>
    <p>Tracking monthly prices, returns, cumulative performance, and rebalancing activity</p>
  </header>

  <main>
    <section>
      <h2>Monthly Prices</h2>
      <div id="price-table"></div>
      <canvas id="priceChart"></canvas>
    </section>

    <section>
      <h2>Monthly Returns</h2>
      <div id="return-table"></div>
      <canvas id="returnChart"></canvas>
    </section>

    <section>
      <h2>Cumulative Returns</h2>
      <div id="cumulative-table"></div>
      <canvas id="cumulativeChart"></canvas>
    </section>

    <section>
      <h2>Rebalancing Log</h2>
      <div id="rebalancing-table"></div>
    </section>
  </main>

  <script>
    const formatCurrency = val => `$${val.toFixed(2)}`;
    const formatPercent = val => `${(val * 100).toFixed(2)}%`;

    const monthlyPricesData = {
      labels: ["2024-01-01", "2024-02-01", "2024-03-01", "2024-04-01", "2024-05-01", "2024-06-01", "2024-07-01"],
      datasets: [
        {
          label: "NVDA",
          data: [51.99, 52.83, 54.13, 56.10, 58.25, 61.75, 65.11]
        },
        {
          label: "PLTR",
          data: [19.51, 19.82, 20.25, 21.34, 22.43, 24.17, 25.89]
        },
        {
          label: "AMD",
          data: [152.97, 156.11, 158.42, 162.88, 167.91, 170.25, 175.62]
        },
        {
          label: "MSFT",
          data: [361.52, 368.01, 372.42, 379.14, 385.10, 391.25, 399.78]
        },
        {
          label: "AVGO",
          data: [116.18, 119.53, 121.42, 125.10, 129.87, 134.22, 139.61]
        },
        {
          label: "QQQ",
          data: [346.50, 351.89, 356.33, 362.78, 368.91, 374.21, 380.56]
        }
      ]
    };

    const monthlyReturnsData = {
      labels: monthlyPricesData.labels.slice(1),
      datasets: monthlyPricesData.datasets.map(stock => {
        const returns = stock.data.map((v, i, arr) => i === 0 ? null : (v - arr[i - 1]) / arr[i - 1]).slice(1);
        return { label: stock.label, data: returns };
      })
    };

    const cumulativeReturnsData = {
      labels: monthlyPricesData.labels,
      datasets: monthlyPricesData.datasets.map(stock => {
        const base = stock.data[0];
        return {
          label: stock.label,
          data: stock.data.map(price => (price - base) / base)
        };
      })
    };

    const rebalancingLog = [
      { date: "2024-03-01", action: "Rebalanced NVDA and PLTR to target weights." },
      { date: "2024-06-01", action: "Trimmed MSFT, added to AMD and AVGO." }
    ];

    function createTable(data, formatter = val => val) {
      const keys = Object.keys(data[0]);
      let html = '<table><thead><tr>' + keys.map(k => `<th>${k}</th>`).join('') + '</tr></thead><tbody>';
      data.forEach(row => {
        html += '<tr>' + keys.map(k => `<td>${formatter(row[k])}</td>`).join('') + '</tr>';
      });
      html += '</tbody></table>';
      return html;
    }

    function renderTableWithLabels(elementId, labels, datasets, formatFn) {
      const tableData = labels.map((label, i) => {
        const row = { Date: label };
        datasets.forEach(ds => row[ds.label] = ds.data[i]);
        return row;
      });
      document.getElementById(elementId).innerHTML = createTable(tableData, formatFn);
    }

    renderTableWithLabels("price-table", monthlyPricesData.labels, monthlyPricesData.datasets, formatCurrency);
    renderTableWithLabels("return-table", monthlyReturnsData.labels, monthlyReturnsData.datasets, formatPercent);
    renderTableWithLabels("cumulative-table", cumulativeReturnsData.labels, cumulativeReturnsData.datasets, formatPercent);
    document.getElementById("rebalancing-table").innerHTML = createTable(rebalancingLog);

    new Chart(document.getElementById('priceChart'), {
      type: 'line',
      data: monthlyPricesData,
      options: { responsive: true }
    });

    new Chart(document.getElementById('returnChart'), {
      type: 'line',
      data: monthlyReturnsData,
      options: { responsive: true }
    });

    new Chart(document.getElementById('cumulativeChart'), {
      type: 'line',
      data: cumulativeReturnsData,
      options: { responsive: true }
    });
  </script>

</body>
</html>
